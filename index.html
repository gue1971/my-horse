<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Horse</title>

  <!-- PWA 関連（継続仕様） -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111315">
  <link rel="apple-touch-icon" href="assets/icons/app/icon-192.png">

  <!-- CSS -->
  <link rel="stylesheet" href="css/index.css">
</head>
<body>
  <header class="site-header">
    <h1>
      <a href="https://www.umadb.com/member/" target="_blank" rel="noopener noreferrer">
        My Stable
      </a>
    </h1>
  </header>

  <main>
    <div id="tab1" class="tab-panel grid"></div>
    <div id="tab2" class="tab-panel grid" hidden></div>
    <div id="tab3" class="tab-panel grid" hidden></div>
    <div id="tab4" class="tab-panel grid" hidden></div>
    <div id="tab5" class="tab-panel grid" hidden></div>
  </main>

  <footer class="site-footer" role="navigation" aria-label="タブ切り替え">
    <nav class="dots">
      <button class="dot is-active" data-target="tab1" aria-label="1"></button>
      <button class="dot" data-target="tab2" aria-label="2"></button>
      <button class="dot" data-target="tab3" aria-label="3"></button>
      <button class="dot" data-target="tab4" aria-label="引退馬"></button>
      <button class="dot" data-target="tab5" aria-label="活躍馬"></button>
    </nav>
  </footer>


  <!-- JS -->
  <script src="js/index.js" defer></script>

  <!-- Service Worker 登録（継続仕様） -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js', { scope: './' }).then(reg => {
          if (reg.waiting) {
            reg.waiting.postMessage({ type: 'SKIP_WAITING' });
          }
          reg.addEventListener('updatefound', () => {
            const newWorker = reg.installing;
            if (newWorker) {
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  window.location.reload();
                }
              });
            }
          });
        });
      });
    }
  </script>
</body>
</html>
